using System.Collections.Generic;

public class LobbyData
{
	internal Client client;

	internal ulong lobby;

	internal Dictionary<string, string> data;

	public LobbyData(Client c, ulong l)
	{
		client = c;
		lobby = l;
		data = new Dictionary<string, string>();
	}

	public string GetData(string k)
	{
		if (data.ContainsKey(k))
		{
			return data[k];
		}
		return "ERROR: key not found";
	}

	public Dictionary<string, string> GetAllData()
	{
		Dictionary<string, string> dictionary = new Dictionary<string, string>();
		foreach (KeyValuePair<string, string> datum in data)
		{
			dictionary.Add(datum.Key, datum.Value);
		}
		return dictionary;
	}

	public bool SetData(string k, string v)
	{
		if (data.ContainsKey(k))
		{
			if (data[k] == v)
			{
				return true;
			}
			if (client.native.matchmaking.SetLobbyData(lobby, k, v))
			{
				data[k] = v;
				return true;
			}
		}
		else if (client.native.matchmaking.SetLobbyData(lobby, k, v))
		{
			data.Add(k, v);
			return true;
		}
		return false;
	}

	public bool RemoveData(string k)
	{
		if (data.ContainsKey(k) && client.native.matchmaking.DeleteLobbyData(lobby, k))
		{
			data.Remove(k);
			return true;
		}
		return false;
	}
}
