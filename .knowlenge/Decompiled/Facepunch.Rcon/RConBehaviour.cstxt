using Oxide.Core;
using UnityEngine;
using WebSocketSharp;
using WebSocketSharp.Server;

public class RConBehaviour : WebSocketBehavior
{
	public Listener Parent;

	protected override void OnMessage(MessageEventArgs e)
	{
		if (Parent.OnMessage != null && Interface.CallHook("IOnRconCommand", Context.UserEndPoint, e.Data) == null)
		{
			Parent.OnMessage(base.Context.UserEndPoint, base.ID, e.Data);
		}
	}

	protected override void OnError(ErrorEventArgs e)
	{
		Debug.Log("Rcon Error: " + e.Exception);
		Debug.Log(e.Message);
	}
}
