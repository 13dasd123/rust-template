using UnityEngine;

[ExecuteInEditMode]
[RequireComponent(typeof(WindZone))]
public class GlobalWind : MonoBehaviour
{
	private WindZone windZone;

	private void Start()
	{
		windZone = GetComponent<WindZone>();
	}

	private void Update()
	{
		if (windZone.mode == WindZoneMode.Directional)
		{
			Vector3 forward = base.transform.forward;
			Shader.SetGlobalVector("global_Wind", new Vector4(forward.x, forward.y, forward.z, windZone.windMain));
		}
		else
		{
			Shader.SetGlobalVector("global_Wind", Vector3.zero);
		}
	}
}
