using Apex.Serialization;

public class TargetVisibleFor : BaseScorer
{
	[ApexSerialization]
	public float duration;

	public override float GetScore(BaseContext c)
	{
		return Test(c as NPCHumanContext, duration);
	}

	public static float Test(NPCHumanContext c, float duration)
	{
		if (c == null)
		{
			return 0f;
		}
		if (c.Human.AttackTarget != null && c.Human.lastAttacker == c.Human.AttackTarget && c.Human.SecondsSinceAttacked < 10f)
		{
			return 1f;
		}
		if (!(c.Human.AttackTargetVisibleFor >= duration))
		{
			return 0f;
		}
		return 1f;
	}
}
