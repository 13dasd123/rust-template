using Apex.AI;
using UnityEngine;

public class JunkpileCanNavigateAwayFromAnimal : ContextualScorerBase<ScientistJunkpileContext>
{
	public override float Score(ScientistJunkpileContext c)
	{
		return (!Try(c)) ? 0f : score;
	}

	public static bool Try(ScientistJunkpileContext c)
	{
		Vector3 destination = JunkpileNavigateAwayFromAnimal.GetDestination(c);
		if (!c.Domain.AllowedMovementDestination(destination))
		{
			return false;
		}
		float sqrMagnitude = (destination - c.BodyPosition).sqrMagnitude;
		if (sqrMagnitude < 0.1f)
		{
			return false;
		}
		return c.Memory.IsValid(destination);
	}
}
