using Apex.Ai.HTN;

public class AStarIsNotNavigatingEffect : EffectBase<ScientistAStarContext>
{
	public override void Apply(ScientistAStarContext context, bool fromPlanner, bool temporary)
	{
		ApplyStatic(context, fromPlanner, temporary);
	}

	public override void Reverse(ScientistAStarContext context, bool fromPlanner)
	{
		if (fromPlanner)
		{
			context.PopFactChangeDuringPlanning(Facts.IsNavigating);
		}
		else
		{
			context.WorldState[5] = context.PreviousWorldState[5];
		}
	}

	public static void ApplyStatic(ScientistAStarContext context, bool fromPlanner, bool temporary)
	{
		if (fromPlanner)
		{
			context.PushFactChangeDuringPlanning(Facts.IsNavigating, (byte)0, temporary);
			return;
		}
		context.PreviousWorldState[5] = context.WorldState[5];
		context.WorldState[5] = 0;
	}
}
