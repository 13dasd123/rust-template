using UnityEngine;

public struct Target
{
	public bool valid;

	public Ray ray;

	public BaseEntity entity;

	public Socket_Base socket;

	public bool onTerrain;

	public Vector3 position;

	public Vector3 normal;

	public Vector3 rotation;

	public BasePlayer player;

	public bool inBuildingPrivilege;

	public Quaternion GetWorldRotation(bool female)
	{
		Quaternion quaternion = socket.rotation;
		if (socket.male && socket.female && female)
		{
			quaternion = socket.rotation * Quaternion.Euler(180f, 0f, 180f);
		}
		return entity.transform.rotation * quaternion;
	}

	public Vector3 GetWorldPosition()
	{
		return entity.transform.localToWorldMatrix.MultiplyPoint3x4(socket.position);
	}
}
