using System;
using UnityEngine;

[Obsolete]
public class WorldItem_EnableDisable : EntityComponent<BaseEntity>
{
	public GameObject objectToShowWhenEnabled;

	public GameObject objectToShowWhenDisabled;

	private void OnEnable()
	{
		if (!(base.baseEntity == null))
		{
			Item item = base.baseEntity.GetItem();
			if (item != null)
			{
				OnItemChanged(item);
			}
		}
	}

	public void OnItemChanged(Item item)
	{
		if (item.IsOn())
		{
			SendMessage("OnItemOn", SendMessageOptions.DontRequireReceiver);
		}
		else
		{
			SendMessage("OnItemOff", SendMessageOptions.DontRequireReceiver);
		}
	}

	public void OnItemOn()
	{
		if ((bool)objectToShowWhenEnabled)
		{
			objectToShowWhenEnabled.SetActive(value: true);
		}
		if ((bool)objectToShowWhenDisabled)
		{
			objectToShowWhenDisabled.SetActive(value: false);
		}
	}

	public void OnItemOff()
	{
		if ((bool)objectToShowWhenEnabled)
		{
			objectToShowWhenEnabled.SetActive(value: false);
		}
		if ((bool)objectToShowWhenDisabled)
		{
			objectToShowWhenDisabled.SetActive(value: true);
		}
	}
}
