using System.Collections.Generic;
using UnityEngine;

public class Water : MonoBehaviour
{
	public WaterSurfaceDesc ocean = new WaterSurfaceDesc();

	public WaterSurfaceDesc rivers = new WaterSurfaceDesc();

	public WaterSurfaceDesc lakes = new WaterSurfaceDesc();

	public Vector3 wind = new Vector3(6f, 0f, 1f);

	public bool showDebug;

	public bool showGizmos;

	public WaterQuality Quality = WaterQuality.High;

	private WaterQuality prevQuality = WaterQuality.High;

	public WaterSimulation simulation = new WaterSimulation();

	public WaterRendering rendering = new WaterRendering();

	private MaterialPropertyBlock propertyBlock;

	private ReflectionProbe reflectionProbe;

	private float prevWaterLevel = float.MaxValue;

	private Material oceanMaterialInst;

	private Material riverMaterialInst;

	private Material lakeMaterialInst;

	private GameObject[] riverObjs;

	private GameObject[] lakeObjs;

	private List<MeshLink> riverLinks = new List<MeshLink>();

	private List<MeshLink> lakeLinks = new List<MeshLink>();

	private bool simulateNextFrame;

	private int visibilityMask = 255;

	private CommandBufferManager commandBufferManager;

	private bool initialized;

	private static Water instance;

	public Material OceanMaterial => oceanMaterialInst;

	public Material RiverMaterial => riverMaterialInst;

	public Material LakeMaterial => lakeMaterialInst;

	public List<MeshLink> Rivers => riverLinks;

	public List<MeshLink> Lakes => lakeLinks;

	public static WaterCollision Collision { get; private set; }

	public bool IsInitialized => initialized;

	public static Water Instance => instance;

	private void Awake()
	{
		instance = this;
		Collision = GetComponent<WaterCollision>();
	}
}
