using UnityEngine;

public class AStarNavigateToNextAStarWaypoint : BaseNavigateTo
{
	private static int index;

	public static Vector3 GetDestination(ScientistAStarContext context)
	{
		Vector3 position = context.Domain.Path.nodes[index].transform.position;
		index++;
		if (index >= context.Domain.Path.nodes.Count)
		{
			index = 0;
		}
		return position;
	}

	protected override Vector3 _GetDestination(ScientistAStarContext context)
	{
		return GetDestination(context);
	}

	protected override void OnPreStart(ScientistAStarContext context)
	{
		context.Domain.StoppingDistance = 0.8f;
	}

	protected override void OnStart(ScientistAStarContext context)
	{
	}

	protected override void OnPathFailed(ScientistAStarContext context)
	{
		context.Domain.StoppingDistance = 1f;
	}

	protected override void OnPathComplete(ScientistAStarContext context)
	{
		context.Domain.StoppingDistance = 1f;
	}
}
