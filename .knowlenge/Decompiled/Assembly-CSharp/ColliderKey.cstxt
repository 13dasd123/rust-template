using System;
using UnityEngine;

public struct ColliderKey : IEquatable<ColliderKey>
{
	public PhysicMaterial material;

	public int layer;

	public ColliderKey(PhysicMaterial material, int layer)
	{
		this.material = material;
		this.layer = layer;
	}

	public ColliderKey(Collider collider)
	{
		material = collider.sharedMaterial;
		layer = collider.gameObject.layer;
	}

	public ColliderKey(ColliderBatch batch)
	{
		material = batch.BatchCollider.sharedMaterial;
		layer = batch.BatchCollider.gameObject.layer;
	}

	public override int GetHashCode()
	{
		return material.GetHashCode() ^ layer.GetHashCode();
	}

	public override bool Equals(object other)
	{
		return other is ColliderKey && Equals((ColliderKey)other);
	}

	public bool Equals(ColliderKey other)
	{
		return material == other.material && layer == other.layer;
	}
}
