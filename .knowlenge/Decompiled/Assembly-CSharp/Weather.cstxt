using UnityEngine;

[Factory("weather")]
public class Weather : ConsoleSystem
{
	[ServerVar]
	public static void clouds(Arg args)
	{
		if (!(SingletonComponent<Climate>.Instance == null))
		{
			float num = SingletonComponent<Climate>.Instance.Overrides.Clouds;
			float @float = args.GetFloat(0, -1f);
			string text = ((!(num < 0f)) ? (Mathf.RoundToInt(100f * num) + "%") : "automatic");
			string text2 = ((!(@float < 0f)) ? (Mathf.RoundToInt(100f * @float) + "%") : "automatic");
			args.ReplyWith("Clouds: " + text2 + " (was " + text + ")");
			SingletonComponent<Climate>.Instance.Overrides.Clouds = @float;
		}
	}

	[ServerVar]
	public static void fog(Arg args)
	{
		if (!(SingletonComponent<Climate>.Instance == null))
		{
			float num = SingletonComponent<Climate>.Instance.Overrides.Fog;
			float @float = args.GetFloat(0, -1f);
			string text = ((!(num < 0f)) ? (Mathf.RoundToInt(100f * num) + "%") : "automatic");
			string text2 = ((!(@float < 0f)) ? (Mathf.RoundToInt(100f * @float) + "%") : "automatic");
			args.ReplyWith("Fog: " + text2 + " (was " + text + ")");
			SingletonComponent<Climate>.Instance.Overrides.Fog = @float;
		}
	}

	[ServerVar]
	public static void wind(Arg args)
	{
		if (!(SingletonComponent<Climate>.Instance == null))
		{
			float num = SingletonComponent<Climate>.Instance.Overrides.Wind;
			float @float = args.GetFloat(0, -1f);
			string text = ((!(num < 0f)) ? (Mathf.RoundToInt(100f * num) + "%") : "automatic");
			string text2 = ((!(@float < 0f)) ? (Mathf.RoundToInt(100f * @float) + "%") : "automatic");
			args.ReplyWith("Wind: " + text2 + " (was " + text + ")");
			SingletonComponent<Climate>.Instance.Overrides.Wind = @float;
		}
	}

	[ServerVar]
	public static void rain(Arg args)
	{
		if (!(SingletonComponent<Climate>.Instance == null))
		{
			float num = SingletonComponent<Climate>.Instance.Overrides.Rain;
			float @float = args.GetFloat(0, -1f);
			string text = ((!(num < 0f)) ? (Mathf.RoundToInt(100f * num) + "%") : "automatic");
			string text2 = ((!(@float < 0f)) ? (Mathf.RoundToInt(100f * @float) + "%") : "automatic");
			args.ReplyWith("Rain: " + text2 + " (was " + text + ")");
			SingletonComponent<Climate>.Instance.Overrides.Rain = @float;
		}
	}
}
