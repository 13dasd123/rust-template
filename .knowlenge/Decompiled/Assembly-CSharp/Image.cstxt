using UnityEngine;

public class Image
{
	public ImageDesc desc;

	public byte[] pixels;

	public Texture2D texture { get; private set; }

	public Image(Texture2D tex)
	{
		desc = new ImageDesc(tex);
		texture = tex;
		pixels = GetDisplacementPixelsFromTexture(tex);
	}

	public void Destroy()
	{
		desc.Clear();
		texture = null;
		pixels = null;
	}

	private byte[] GetDisplacementPixelsFromTexture(Texture2D tex)
	{
		Color32[] pixels = tex.GetPixels32();
		byte[] array = new byte[pixels.Length];
		for (int i = 0; i < pixels.Length; i++)
		{
			array[i] = pixels[i].b;
		}
		return array;
	}
}
