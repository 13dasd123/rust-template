using Oxide.Ext.Discord.Libraries;
using Oxide.Ext.Discord.Types;

internal sealed class DelayTimerInstance : BaseTimerInstance
{
	private float _endTime;

	public static DelayTimerInstance Create(float endTime)
	{
		DelayTimerInstance delayTimerInstance = DiscordPool.Internal.Get<DelayTimerInstance>();
		delayTimerInstance.Init(endTime);
		return delayTimerInstance;
	}

	private void Init(float endTime)
	{
		Init();
		_endTime = endTime;
	}

	public override void Update(float currentTime)
	{
		if (_endTime <= currentTime)
		{
			Resolve();
		}
	}
}
