using Oxide.Ext.Discord.Builders;
using Oxide.Ext.Discord.Exceptions;
using Oxide.Ext.Discord.Interfaces;

public class GuildSearchMembers : IDiscordQueryString, IDiscordValidation
{
	public string Query { get; set; }

	public int? Limit { get; set; }

	public string ToQueryString()
	{
		Validate();
		QueryStringBuilder queryStringBuilder = default(QueryStringBuilder);
		queryStringBuilder.Add("query", Query);
		if (Limit.HasValue)
		{
			queryStringBuilder.Add("limit", Limit.Value.ToString());
		}
		return queryStringBuilder.ToString();
	}

	public void Validate()
	{
		InvalidGuildSearchMembersException.ThrowIfInvalidQuery(Query);
		InvalidGuildSearchMembersException.ThrowIfInvalidLimit(Limit);
	}
}
