using System;
using System.Collections.Generic;
using Oxide.Ext.Discord.Entities;

internal class CommandCache
{
	public readonly List<DiscordApplicationCommand> Commands;

	private readonly DateTime _cachedDateTime = DateTime.UtcNow;

	public bool IsExpired => _cachedDateTime + TimeSpan.FromSeconds(15.0) < DateTime.UtcNow;

	public CommandCache(List<DiscordApplicationCommand> commands)
	{
		Commands = commands;
	}

	public void RemoveCommand(Snowflake id)
	{
		for (int i = 0; i < Commands.Count; i++)
		{
			DiscordApplicationCommand discordApplicationCommand = Commands[i];
			if (discordApplicationCommand.Id == id)
			{
				Commands.RemoveAt(i);
				break;
			}
		}
	}
}
