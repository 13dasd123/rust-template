using Oxide.Ext.Discord.Builders;
using Oxide.Ext.Discord.Entities;
using Oxide.Ext.Discord.Exceptions;

public abstract class BaseInteractionMessageBuilder<TMessage, TBuilder> : BaseMessageBuilder<TMessage, TBuilder> where TMessage : BaseInteractionMessage where TBuilder : BaseInteractionMessageBuilder<TMessage, TBuilder>
{
	protected BaseInteractionMessageBuilder(DiscordInteraction interaction, TMessage message)
		: base(message)
	{
		InteractionResponseBuilderException.ThrowIfInteractionIsAutoComplete(interaction.Type);
	}

	public TBuilder AsEphemeral()
	{
		TMessage message = Message;
		message.Flags |= MessageFlags.Ephemeral;
		return Builder;
	}
}
