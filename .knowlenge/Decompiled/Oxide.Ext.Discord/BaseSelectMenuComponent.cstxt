using System.Collections.Generic;
using Newtonsoft.Json;
using Oxide.Ext.Discord.Entities;
using Oxide.Ext.Discord.Exceptions;

[JsonObject(MemberSerialization = MemberSerialization.OptIn)]
public abstract class BaseSelectMenuComponent : BaseInteractableComponent
{
	[JsonProperty("placeholder")]
	public string Placeholder { get; set; }

	[JsonProperty("default_values")]
	public List<SelectMenuDefaultValue> DefaultValues { get; set; }

	[JsonProperty("min_values")]
	public int? MinValues { get; set; }

	[JsonProperty("max_values")]
	public int? MaxValues { get; set; }

	[JsonProperty("disabled")]
	public bool? Disabled { get; set; }

	protected BaseSelectMenuComponent(MessageComponentType type)
	{
		base.Type = type;
	}

	public override void Validate()
	{
		base.Validate();
		InvalidSelectMenuComponentException.ThrowIfInvalidSelectMenuPlaceholder(Placeholder);
		InvalidSelectMenuComponentException.ThrowIfInvalidSelectMenuMinValues(MinValues);
		InvalidSelectMenuComponentException.ThrowIfInvalidSelectMenuMaxValues(MaxValues);
		InvalidSelectMenuComponentException.ThrowIfInvalidSelectMenuValueRange(MinValues, MaxValues);
	}
}
