using System;
using Newtonsoft.Json;
using Oxide.Ext.Discord.Interfaces;
using Oxide.Ext.Discord.Json;
using Oxide.Ext.Discord.Libraries;

[JsonConverter(typeof(TemplateKeyConverter))]
public readonly struct TemplateKey : IDiscordKey, IEquatable<TemplateKey>
{
	public readonly string Name;

	public bool IsValid => !string.IsNullOrEmpty(Name);

	public TemplateKey(string name)
	{
		Name = name;
	}

	public override string ToString()
	{
		return Name;
	}

	public static implicit operator string(TemplateKey key)
	{
		return key.ToString();
	}

	public bool Equals(TemplateKey other)
	{
		return Name == other.Name;
	}

	public override bool Equals(object obj)
	{
		return obj is TemplateKey other && Equals(other);
	}

	public override int GetHashCode()
	{
		return (Name != null) ? Name.GetHashCode() : 0;
	}
}
