using Oxide.Core.Libraries.Covalence;
using Oxide.Ext.Discord.Entities;
using Oxide.Ext.Discord.Libraries;

public static class DiscordUserExt
{
	public static void SendChatMessage(this DiscordUser user, string message)
	{
		IPlayer player = user.Player;
		if (player != null && player.IsConnected)
		{
			player.Message(message);
		}
	}

	public static void SendChatMessage(this DiscordUser user, string message, string prefix, params object[] args)
	{
		IPlayer player = user.Player;
		if (player != null && player.IsConnected)
		{
			player.Message(message, prefix, args);
		}
	}

	public static bool HasPermission(this DiscordUser user, string permission)
	{
		return user.Player?.HasPermission(permission) ?? false;
	}

	public static bool IsLinked(this DiscordUser user)
	{
		return BaseDiscordLibrary<DiscordLink>.Instance.IsLinked(user.Id);
	}
}
