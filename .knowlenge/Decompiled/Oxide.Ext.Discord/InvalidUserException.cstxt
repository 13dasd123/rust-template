using Oxide.Ext.Discord.Exceptions;

public class InvalidUserException : BaseDiscordException
{
	public static readonly char[] InvalidUserNameCharacters = "@#:".ToCharArray();

	private InvalidUserException(string message)
		: base(message)
	{
	}

	internal static void ThrowIfInvalidUserName(string username)
	{
		if (!string.IsNullOrEmpty(username))
		{
			if (username.Length < 2 || username.Length > 32)
			{
				throw new InvalidUserException("Name '" + username + "' cannot be less than 2 characters or more than 32 characters");
			}
			if (username.IndexOfAny(InvalidUserNameCharacters) != -1)
			{
				throw new InvalidUserException("Name '" + username + "' Cannot contain any of the following characters [@,#,:]");
			}
			if (username.Contains("```"))
			{
				throw new InvalidUserException("Name '" + username + "' Cannot contain \"```\"");
			}
			if (username.Contains("discord"))
			{
				throw new InvalidUserException("Name '" + username + "' Cannot contain \"discord\"");
			}
		}
	}
}
