using System.Collections.Generic;
using Newtonsoft.Json;
using Oxide.Ext.Discord.Entities;
using Oxide.Ext.Discord.Exceptions;

[JsonObject(MemberSerialization = MemberSerialization.OptIn)]
public class StringSelectComponent : BaseSelectMenuComponent
{
	[JsonProperty("options")]
	public List<SelectMenuOption> Options { get; } = new List<SelectMenuOption>();

	public StringSelectComponent()
		: base(MessageComponentType.StringSelect)
	{
	}

	public override void Validate()
	{
		base.Validate();
		if (Options != null)
		{
			InvalidSelectMenuComponentException.ThrowIfInvalidSelectMenuOptionCount(Options.Count);
			for (int i = 0; i < Options.Count; i++)
			{
				SelectMenuOption selectMenuOption = Options[i];
				selectMenuOption.Validate();
			}
		}
	}
}
