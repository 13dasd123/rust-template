using System.Buffers;
using System.IO;

public static class StreamExt
{
	public static void CopyToPooled(this Stream from, Stream to)
	{
		from.Position = 0L;
		byte[] array = ArrayPool<byte>.Shared.Rent(1024);
		int count;
		while ((count = from.Read(array, 0, array.Length)) != 0)
		{
			to.Write(array, 0, count);
		}
		ArrayPool<byte>.Shared.Return(array);
	}
}
