using Oxide.Core.Plugins;
using Oxide.Ext.Discord.Entities;
using Oxide.Ext.Discord.Libraries;
using Oxide.Ext.Discord.Plugins;

public static class InteractionPlaceholders
{
	public static string Lang(PlaceholderState state, DiscordInteraction interaction)
	{
		return interaction.GetLangMessage(state.Data.Get<Plugin>(), state.Format);
	}

	internal static void RegisterPlaceholders()
	{
		RegisterPlaceholders(DiscordExtensionCore.Instance, DefaultKeys.Interaction, new PlaceholderDataKey("DiscordInteraction"));
	}

	public static void RegisterPlaceholders(Plugin plugin, InteractionKeys keys, PlaceholderDataKey dataKey)
	{
		DiscordPlaceholders instance = BaseDiscordLibrary<DiscordPlaceholders>.Instance;
		instance.RegisterPlaceholder<DiscordInteraction, string>(plugin, keys.Lang, dataKey, Lang);
	}
}
