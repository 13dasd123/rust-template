using Oxide.Ext.Discord.Types;

internal class BoxedPool<T> : BasePool<Boxed<T>, BoxedPool<T>>
{
	protected override PoolSize GetPoolSize(PoolSettings settings)
	{
		return new PoolSize(32, 512);
	}

	protected override void OnGetItem(Boxed<T> item)
	{
		item.LeavePool();
		item.Pool = PluginPool;
	}

	protected override bool OnFreeItem(ref Boxed<T> item)
	{
		item.Pool = null;
		return base.OnFreeItem(ref item);
	}

	protected override Boxed<T> CreateNew()
	{
		return new Boxed<T>();
	}
}
