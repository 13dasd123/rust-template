using System;

private class Button
{
	public string Name;

	public Func<bool> TestFunction;

	public bool CurrentValue;

	public bool LastValue;

	public string[] Binds;

	public virtual void Update()
	{
		LastValue = CurrentValue;
		CurrentValue = TestFunction();
		if (CurrentValue && !LastValue)
		{
			RunBinds(Pressed: true);
		}
		if (!CurrentValue && LastValue)
		{
			RunBinds(Pressed: false);
		}
	}

	private void RunBinds(bool Pressed)
	{
		if (Binds == null || Input.RunBind == null)
		{
			return;
		}
		for (int i = 0; i < Binds.Length; i++)
		{
			if (Binds[i][0] == '+')
			{
				Input.RunBind(Binds[i].Substring(1), Pressed);
			}
			else if (Pressed)
			{
				Input.RunBind(Binds[i], Pressed);
			}
		}
	}
}
