using System;
using Facepunch;
using Network;

public abstract class NetworkPeer
{
	public enum StatTypeLong
	{
		BytesSent,
		BytesSent_LastSecond,
		BytesReceived,
		BytesReceived_LastSecond,
		MessagesInSendBuffer,
		BytesInSendBuffer,
		MessagesInResendBuffer,
		BytesInResendBuffer,
		PacketLossAverage,
		PacketLossLastSecond,
		ThrottleBytes
	}

	public Write write;

	public Read read;

	public INetworkCryptocraphy cryptography;

	public Action<Message> onMessage;

	public Func<int, Read, uint, int, bool> onUnconnectedMessage;

	protected Message StartMessage(Message.Type type, Connection connection)
	{
		Message message = Pool.Get<Message>();
		message.peer = this;
		message.type = type;
		message.connection = connection;
		return message;
	}

	public abstract string GetDebug(Connection connection);

	public abstract ulong GetStat(Connection connection, StatTypeLong type);
}
