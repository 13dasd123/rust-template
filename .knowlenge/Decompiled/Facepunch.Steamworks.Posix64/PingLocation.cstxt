using System.Runtime.InteropServices;
using Steamworks;
using Steamworks.Data;

[StructLayout(LayoutKind.Explicit, Size = 512)]
public struct PingLocation
{
	public static PingLocation? TryParseFromString(string str)
	{
		PingLocation result = default(PingLocation);
		if (!SteamNetworkingUtils.Internal.ParsePingLocationString(str, ref result))
		{
			return null;
		}
		return result;
	}

	public override string ToString()
	{
		SteamNetworkingUtils.Internal.ConvertPingLocationToString(ref this, out var pszBuf);
		return pszBuf;
	}

	public int EstimatePingTo(PingLocation target)
	{
		return SteamNetworkingUtils.Internal.EstimatePingTimeBetweenTwoLocations(ref this, ref target);
	}
}
