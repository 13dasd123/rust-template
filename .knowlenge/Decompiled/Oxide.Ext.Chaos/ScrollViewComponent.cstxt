using System.Runtime.CompilerServices;
using Newtonsoft.Json;
using Oxide.Ext.Chaos.UIFramework;
using UnityEngine;
using UnityEngine.UI;

public class ScrollViewComponent : BaseCuiComponent
{
	[CompilerGenerated]
	private bool \u206b\u206f\u206b\u202b\u202c\u202e\u206f\u206f\u206e\u200d\u206a\u202c\u200e\u202c\u206d\u206a\u206c\u200e\u200e\u202e\u200c\u206e\u200d\u206a\u206c\u206d\u202b\u202d\u200c\u200e\u202a\u202e\u206d\u202b\u202d\u202e\u206d\u202d\u206c\u200f\u202e;

	[CompilerGenerated]
	private bool \u202b\u202c\u202a\u202e\u206e\u206a\u206c\u206b\u202e\u206d\u206e\u206e\u200f\u206c\u200c\u202e\u202e\u206c\u202c\u200e\u206c\u200d\u206a\u206b\u202b\u202e\u206f\u200e\u200e\u206a\u206d\u206a\u206d\u206a\u200f\u202b\u206c\u200f\u202a\u206e\u202e;

	[CompilerGenerated]
	private ScrollRect.MovementType \u206c\u206d\u202d\u200f\u206d\u206f\u202b\u200e\u200d\u200b\u206f\u206c\u200b\u200d\u200d\u200f\u200b\u206b\u200f\u206d\u206e\u206e\u200f\u206a\u206b\u202d\u200c\u202c\u202d\u206d\u202e\u206f\u202c\u202a\u206a\u200c\u206b\u206c\u200e\u202e;

	[CompilerGenerated]
	private float \u200b\u202a\u206f\u200e\u202b\u206c\u200d\u202d\u202e\u200c\u206b\u202b\u202d\u202e\u206a\u202a\u200f\u202b\u200d\u206c\u206e\u202c\u206a\u200d\u206f\u200c\u202e\u202c\u206d\u206e\u206c\u200b\u200b\u200f\u206e\u202e\u202a\u206e\u206f\u200d\u202e = 0.1f;

	[CompilerGenerated]
	private bool \u206e\u200d\u202a\u202b\u206c\u202c\u200b\u206b\u202e\u202d\u206a\u206f\u206f\u202e\u206d\u206d\u202c\u206e\u206e\u206c\u200f\u206d\u206b\u202c\u202a\u200e\u200f\u200d\u206f\u200c\u202c\u206c\u200e\u206d\u202e\u200e\u200f\u202b\u206a\u202a\u202e;

	[CompilerGenerated]
	private float \u200b\u200c\u202d\u206b\u202c\u206c\u200d\u206e\u200b\u202e\u206b\u206b\u200c\u200b\u200e\u206e\u200b\u206b\u206c\u206d\u200d\u206c\u200f\u202a\u200d\u206e\u206c\u200f\u202e\u202e\u200c\u206b\u206d\u200d\u202b\u202d\u202c\u200e\u202c\u200d\u202e = 0.135f;

	[CompilerGenerated]
	private float \u200c\u206c\u206f\u200b\u206e\u202c\u202d\u202c\u200c\u202c\u206c\u206d\u202e\u202a\u202a\u202c\u202a\u200d\u200d\u206c\u200e\u200c\u200f\u202c\u206a\u200c\u202b\u200d\u200b\u200d\u200c\u200b\u202c\u202a\u206f\u200d\u200f\u202a\u206c\u206d\u202e = 1f;

	[CompilerGenerated]
	private ScrollbarComponent \u202b\u206b\u200c\u206b\u202a\u206c\u200f\u202d\u202a\u200c\u206a\u206d\u206c\u202e\u200c\u200e\u206b\u200d\u206a\u206b\u206d\u206a\u206e\u206f\u200f\u202c\u206d\u206d\u200d\u202a\u200f\u206d\u202b\u206d\u206e\u200b\u200b\u202d\u206e\u200f\u202e;

	[CompilerGenerated]
	private ScrollbarComponent \u202b\u206c\u200b\u200b\u202a\u202e\u200f\u206c\u202d\u206f\u206c\u200e\u206b\u206d\u206d\u206e\u202d\u202d\u200e\u200c\u202d\u200b\u202a\u200c\u202c\u200d\u202e\u206a\u206e\u200d\u202b\u206e\u206d\u200d\u206d\u202e\u202d\u206d\u200d\u206c\u202e;

	[CompilerGenerated]
	private RectTransformComponent \u206a\u206c\u202c\u202b\u200b\u200b\u200d\u206e\u200b\u202a\u206a\u200e\u206d\u206c\u206c\u206a\u206d\u202a\u200e\u200d\u206e\u202a\u206a\u202b\u206c\u206b\u200b\u202a\u206e\u202b\u202e\u202d\u202c\u206c\u206a\u206a\u202d\u200f\u206e\u202c\u202e;

	public bool Horizontal
	{
		[CompilerGenerated]
		get
		{
			return \u206b\u206f\u206b\u202b\u202c\u202e\u206f\u206f\u206e\u200d\u206a\u202c\u200e\u202c\u206d\u206a\u206c\u200e\u200e\u202e\u200c\u206e\u200d\u206a\u206c\u206d\u202b\u202d\u200c\u200e\u202a\u202e\u206d\u202b\u202d\u202e\u206d\u202d\u206c\u200f\u202e;
		}
		[CompilerGenerated]
		set
		{
			\u206b\u206f\u206b\u202b\u202c\u202e\u206f\u206f\u206e\u200d\u206a\u202c\u200e\u202c\u206d\u206a\u206c\u200e\u200e\u202e\u200c\u206e\u200d\u206a\u206c\u206d\u202b\u202d\u200c\u200e\u202a\u202e\u206d\u202b\u202d\u202e\u206d\u202d\u206c\u200f\u202e = value;
		}
	}

	public bool Vertical
	{
		[CompilerGenerated]
		get
		{
			return \u202b\u202c\u202a\u202e\u206e\u206a\u206c\u206b\u202e\u206d\u206e\u206e\u200f\u206c\u200c\u202e\u202e\u206c\u202c\u200e\u206c\u200d\u206a\u206b\u202b\u202e\u206f\u200e\u200e\u206a\u206d\u206a\u206d\u206a\u200f\u202b\u206c\u200f\u202a\u206e\u202e;
		}
		[CompilerGenerated]
		set
		{
			\u202b\u202c\u202a\u202e\u206e\u206a\u206c\u206b\u202e\u206d\u206e\u206e\u200f\u206c\u200c\u202e\u202e\u206c\u202c\u200e\u206c\u200d\u206a\u206b\u202b\u202e\u206f\u200e\u200e\u206a\u206d\u206a\u206d\u206a\u200f\u202b\u206c\u200f\u202a\u206e\u202e = value;
		}
	}

	public ScrollRect.MovementType MovementType
	{
		[CompilerGenerated]
		get
		{
			return \u206c\u206d\u202d\u200f\u206d\u206f\u202b\u200e\u200d\u200b\u206f\u206c\u200b\u200d\u200d\u200f\u200b\u206b\u200f\u206d\u206e\u206e\u200f\u206a\u206b\u202d\u200c\u202c\u202d\u206d\u202e\u206f\u202c\u202a\u206a\u200c\u206b\u206c\u200e\u202e;
		}
		[CompilerGenerated]
		set
		{
			\u206c\u206d\u202d\u200f\u206d\u206f\u202b\u200e\u200d\u200b\u206f\u206c\u200b\u200d\u200d\u200f\u200b\u206b\u200f\u206d\u206e\u206e\u200f\u206a\u206b\u202d\u200c\u202c\u202d\u206d\u202e\u206f\u202c\u202a\u206a\u200c\u206b\u206c\u200e\u202e = value;
		}
	}

	public float Elasticity
	{
		[CompilerGenerated]
		get
		{
			return \u200b\u202a\u206f\u200e\u202b\u206c\u200d\u202d\u202e\u200c\u206b\u202b\u202d\u202e\u206a\u202a\u200f\u202b\u200d\u206c\u206e\u202c\u206a\u200d\u206f\u200c\u202e\u202c\u206d\u206e\u206c\u200b\u200b\u200f\u206e\u202e\u202a\u206e\u206f\u200d\u202e;
		}
		[CompilerGenerated]
		set
		{
			\u200b\u202a\u206f\u200e\u202b\u206c\u200d\u202d\u202e\u200c\u206b\u202b\u202d\u202e\u206a\u202a\u200f\u202b\u200d\u206c\u206e\u202c\u206a\u200d\u206f\u200c\u202e\u202c\u206d\u206e\u206c\u200b\u200b\u200f\u206e\u202e\u202a\u206e\u206f\u200d\u202e = value;
		}
	}

	public bool Inertia
	{
		[CompilerGenerated]
		get
		{
			return \u206e\u200d\u202a\u202b\u206c\u202c\u200b\u206b\u202e\u202d\u206a\u206f\u206f\u202e\u206d\u206d\u202c\u206e\u206e\u206c\u200f\u206d\u206b\u202c\u202a\u200e\u200f\u200d\u206f\u200c\u202c\u206c\u200e\u206d\u202e\u200e\u200f\u202b\u206a\u202a\u202e;
		}
		[CompilerGenerated]
		set
		{
			\u206e\u200d\u202a\u202b\u206c\u202c\u200b\u206b\u202e\u202d\u206a\u206f\u206f\u202e\u206d\u206d\u202c\u206e\u206e\u206c\u200f\u206d\u206b\u202c\u202a\u200e\u200f\u200d\u206f\u200c\u202c\u206c\u200e\u206d\u202e\u200e\u200f\u202b\u206a\u202a\u202e = value;
		}
	}

	public float DecelerationRate
	{
		[CompilerGenerated]
		get
		{
			return \u200b\u200c\u202d\u206b\u202c\u206c\u200d\u206e\u200b\u202e\u206b\u206b\u200c\u200b\u200e\u206e\u200b\u206b\u206c\u206d\u200d\u206c\u200f\u202a\u200d\u206e\u206c\u200f\u202e\u202e\u200c\u206b\u206d\u200d\u202b\u202d\u202c\u200e\u202c\u200d\u202e;
		}
		[CompilerGenerated]
		set
		{
			\u200b\u200c\u202d\u206b\u202c\u206c\u200d\u206e\u200b\u202e\u206b\u206b\u200c\u200b\u200e\u206e\u200b\u206b\u206c\u206d\u200d\u206c\u200f\u202a\u200d\u206e\u206c\u200f\u202e\u202e\u200c\u206b\u206d\u200d\u202b\u202d\u202c\u200e\u202c\u200d\u202e = value;
		}
	}

	public float ScrollSensitivity
	{
		[CompilerGenerated]
		get
		{
			return \u200c\u206c\u206f\u200b\u206e\u202c\u202d\u202c\u200c\u202c\u206c\u206d\u202e\u202a\u202a\u202c\u202a\u200d\u200d\u206c\u200e\u200c\u200f\u202c\u206a\u200c\u202b\u200d\u200b\u200d\u200c\u200b\u202c\u202a\u206f\u200d\u200f\u202a\u206c\u206d\u202e;
		}
		[CompilerGenerated]
		set
		{
			\u200c\u206c\u206f\u200b\u206e\u202c\u202d\u202c\u200c\u202c\u206c\u206d\u202e\u202a\u202a\u202c\u202a\u200d\u200d\u206c\u200e\u200c\u200f\u202c\u206a\u200c\u202b\u200d\u200b\u200d\u200c\u200b\u202c\u202a\u206f\u200d\u200f\u202a\u206c\u206d\u202e = value;
		}
	}

	public ScrollbarComponent HorizontalScrollbar
	{
		[CompilerGenerated]
		get
		{
			return \u202b\u206b\u200c\u206b\u202a\u206c\u200f\u202d\u202a\u200c\u206a\u206d\u206c\u202e\u200c\u200e\u206b\u200d\u206a\u206b\u206d\u206a\u206e\u206f\u200f\u202c\u206d\u206d\u200d\u202a\u200f\u206d\u202b\u206d\u206e\u200b\u200b\u202d\u206e\u200f\u202e;
		}
		[CompilerGenerated]
		set
		{
			\u202b\u206b\u200c\u206b\u202a\u206c\u200f\u202d\u202a\u200c\u206a\u206d\u206c\u202e\u200c\u200e\u206b\u200d\u206a\u206b\u206d\u206a\u206e\u206f\u200f\u202c\u206d\u206d\u200d\u202a\u200f\u206d\u202b\u206d\u206e\u200b\u200b\u202d\u206e\u200f\u202e = value;
		}
	}

	public ScrollbarComponent VerticalScrollbar
	{
		[CompilerGenerated]
		get
		{
			return \u202b\u206c\u200b\u200b\u202a\u202e\u200f\u206c\u202d\u206f\u206c\u200e\u206b\u206d\u206d\u206e\u202d\u202d\u200e\u200c\u202d\u200b\u202a\u200c\u202c\u200d\u202e\u206a\u206e\u200d\u202b\u206e\u206d\u200d\u206d\u202e\u202d\u206d\u200d\u206c\u202e;
		}
		[CompilerGenerated]
		set
		{
			\u202b\u206c\u200b\u200b\u202a\u202e\u200f\u206c\u202d\u206f\u206c\u200e\u206b\u206d\u206d\u206e\u202d\u202d\u200e\u200c\u202d\u200b\u202a\u200c\u202c\u200d\u202e\u206a\u206e\u200d\u202b\u206e\u206d\u200d\u206d\u202e\u202d\u206d\u200d\u206c\u202e = value;
		}
	}

	public RectTransformComponent ContentTransform
	{
		[CompilerGenerated]
		get
		{
			return \u206a\u206c\u202c\u202b\u200b\u200b\u200d\u206e\u200b\u202a\u206a\u200e\u206d\u206c\u206c\u206a\u206d\u202a\u200e\u200d\u206e\u202a\u206a\u202b\u206c\u206b\u200b\u202a\u206e\u202b\u202e\u202d\u202c\u206c\u206a\u206a\u202d\u200f\u206e\u202c\u202e;
		}
		[CompilerGenerated]
		set
		{
			\u206a\u206c\u202c\u202b\u200b\u200b\u200d\u206e\u200b\u202a\u206a\u200e\u206d\u206c\u206c\u206a\u206d\u202a\u200e\u200d\u206e\u202a\u206a\u202b\u206c\u206b\u200b\u202a\u206e\u202b\u202e\u202d\u202c\u206c\u206a\u206a\u202d\u200f\u206e\u202c\u202e = value;
		}
	}

	public ScrollViewComponent()
	{
		while (true)
		{
			int num = 1044824650;
			while (true)
			{
				uint num2;
				switch ((num2 = (uint)(num ^ 0x75D263B4)) % 3)
				{
				case 0u:
					break;
				default:
					return;
				case 2u:
					goto IL_0049;
				case 1u:
					return;
				}
				break;
				IL_0049:
				base.IsConstant = true;
				num = (int)((num2 * 1579610179) ^ 0x1DDF7F6C);
			}
		}
	}

	public void ValidateContentTransform()
	{
		if (ContentTransform == null)
		{
			ContentTransform = UIComponentPool.Get<RectTransformComponent>();
			ContentTransform.Set(Anchor.FullStretch, Offset.zero);
		}
	}

	public ScrollViewComponent WithContentTransform(Anchor anchor, Offset offset)
	{
		if (ContentTransform == null)
		{
			ContentTransform = UIComponentPool.Get<RectTransformComponent>();
		}
		ContentTransform.Set(anchor, offset);
		return this;
	}

	public ScrollViewComponent WithScrollbars(ScrollbarComponent.Style style)
	{
		WithHorizontalScrollbar(style);
		WithVerticalScrollbar(style);
		return this;
	}

	public ScrollViewComponent WithHorizontalScrollbar(ScrollbarComponent.Style style)
	{
		if (HorizontalScrollbar == null)
		{
			HorizontalScrollbar = UIComponentPool.Get<ScrollbarComponent>();
		}
		HorizontalScrollbar.WithStyle(style);
		return this;
	}

	public ScrollViewComponent WithVerticalScrollbar(ScrollbarComponent.Style style)
	{
		if (VerticalScrollbar == null)
		{
			VerticalScrollbar = UIComponentPool.Get<ScrollbarComponent>();
		}
		VerticalScrollbar.WithStyle(style);
		return this;
	}

	public void SnapContentToIndex(int indexOfSelected, int totalItems, Oxide.Ext.Chaos.UIFramework.VerticalLayoutGroup layoutGroup)
	{
		float num = (layoutGroup.ViewportSize.y - layoutGroup.Padding.Vertical) * 0.5f / (layoutGroup.FixedSize.y + layoutGroup.Spacing.Vertical);
		if ((float)indexOfSelected >= num || (float)indexOfSelected < (float)totalItems - num)
		{
			float num2 = Mathf.Abs(ContentTransform.OffsetMin.Y - ContentTransform.OffsetMax.Y);
			float x = ContentTransform.OffsetMin.X;
			float x2 = ContentTransform.OffsetMax.X;
			if ((float)indexOfSelected > (float)totalItems - num)
			{
				ContentTransform.Set(new Offset(x, 0f, x2, num2));
				return;
			}
			float t = ((float)indexOfSelected - num) / ((float)totalItems - num * 2f);
			float yMin = Mathf.Lerp(0f - num2, 0f, t);
			float yMax = Mathf.Lerp(0f, num2, t);
			ContentTransform.Set(new Offset(x, yMin, x2, yMax));
		}
	}

	public void SnapContentToIndex(int indexOfSelected, int totalItems, Oxide.Ext.Chaos.UIFramework.HorizontalLayoutGroup layoutGroup)
	{
		float num = (layoutGroup.ViewportSize.x - layoutGroup.Padding.Horizontal) * 0.5f / (layoutGroup.FixedSize.x + layoutGroup.Spacing.Horizontal);
		if ((float)indexOfSelected >= num || (float)indexOfSelected < (float)totalItems - num)
		{
			float num2 = Mathf.Abs(ContentTransform.OffsetMin.X - ContentTransform.OffsetMax.X);
			float y = ContentTransform.OffsetMin.Y;
			float y2 = ContentTransform.OffsetMax.Y;
			if ((float)indexOfSelected > (float)totalItems - num)
			{
				ContentTransform.Set(new Offset(0f, y, num2, y2));
				return;
			}
			float t = ((float)indexOfSelected - num) / ((float)totalItems - num * 2f);
			float xMin = Mathf.Lerp(0f - num2, 0f, t);
			float xMax = Mathf.Lerp(0f, num2, t);
			ContentTransform.Set(new Offset(xMin, y, xMax, y2));
		}
	}

	public override void WriteJson(JsonWriter jsonWriter)
	{
		jsonWriter.WriteStartObject();
		jsonWriter.WritePropertyName("type");
		jsonWriter.WriteValue("UnityEngine.UI.ScrollView");
		if (ContentTransform != null)
		{
			jsonWriter.WritePropertyName("contentTransform");
			jsonWriter.WriteStartObject();
			if (ContentTransform.AnchorMin != Oxide.Ext.Chaos.UIFramework.Bounds.zero)
			{
				jsonWriter.WritePropertyName("anchormin");
				jsonWriter.WriteValue(ContentTransform.AnchorMin.ToString("0 0"));
			}
			if (ContentTransform.AnchorMax != Oxide.Ext.Chaos.UIFramework.Bounds.one)
			{
				jsonWriter.WritePropertyName("anchormax");
				jsonWriter.WriteValue(ContentTransform.AnchorMax.ToString("1 1"));
			}
			if (ContentTransform.OffsetMin != Oxide.Ext.Chaos.UIFramework.Bounds.zero)
			{
				jsonWriter.WritePropertyName("offsetmin");
				jsonWriter.WriteValue(ContentTransform.OffsetMin.ToString("0 0"));
			}
			if (ContentTransform.OffsetMax != Oxide.Ext.Chaos.UIFramework.Bounds.one)
			{
				jsonWriter.WritePropertyName("offsetmax");
				jsonWriter.WriteValue(ContentTransform.OffsetMax.ToString("1 1"));
			}
			jsonWriter.WriteEndObject();
		}
		if (Horizontal)
		{
			jsonWriter.WritePropertyName("horizontal");
			jsonWriter.WriteValue(Horizontal);
			if (HorizontalScrollbar != null)
			{
				jsonWriter.WritePropertyName("horizonalScrollbar");
				HorizontalScrollbar.WriteJson(jsonWriter);
			}
		}
		if (Vertical)
		{
			jsonWriter.WritePropertyName("vertical");
			jsonWriter.WriteValue(Vertical);
			if (VerticalScrollbar != null)
			{
				jsonWriter.WritePropertyName("verticalScrollbar");
				VerticalScrollbar.WriteJson(jsonWriter);
			}
		}
		if (MovementType != ScrollRect.MovementType.Clamped)
		{
			jsonWriter.WritePropertyName("movementType");
			jsonWriter.WriteValue(MovementType.ToString());
		}
		if (Elasticity != 0.1f)
		{
			jsonWriter.WritePropertyName("elasticity");
			jsonWriter.WriteValue(Elasticity);
		}
		if (Inertia)
		{
			jsonWriter.WritePropertyName("inertia");
			jsonWriter.WriteValue(Inertia);
		}
		if (DecelerationRate != 0.135f)
		{
			jsonWriter.WritePropertyName("decelerationRate");
			jsonWriter.WriteValue(DecelerationRate);
		}
		if (ScrollSensitivity != 1f)
		{
			jsonWriter.WritePropertyName("scrollSensitivity");
			jsonWriter.WriteValue(ScrollSensitivity);
		}
		jsonWriter.WriteEndObject();
	}

	public override void OnEnterPool()
	{
		Horizontal = false;
		Vertical = false;
		MovementType = ScrollRect.MovementType.Elastic;
		Elasticity = 0.1f;
		Inertia = false;
		DecelerationRate = 0.135f;
		ScrollSensitivity = 1f;
		if (ContentTransform != null)
		{
			RectTransformComponent t = ContentTransform;
			UIComponentPool.Free(ref t);
			ContentTransform = null;
		}
		if (HorizontalScrollbar != null)
		{
			ScrollbarComponent t2 = HorizontalScrollbar;
			UIComponentPool.Free(ref t2);
			HorizontalScrollbar = null;
		}
		if (VerticalScrollbar != null)
		{
			ScrollbarComponent t3 = VerticalScrollbar;
			UIComponentPool.Free(ref t3);
			VerticalScrollbar = null;
		}
	}
}
