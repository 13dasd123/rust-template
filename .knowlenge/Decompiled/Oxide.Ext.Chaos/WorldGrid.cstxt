using Oxide.Ext.Chaos.AStar;
using UnityEngine;

public class WorldGrid<T>
{
	internal T[] \u202e\u202e\u206a\u206a\u200c\u200c\u202a\u206f\u202e\u206c\u200c\u206b\u200f\u200c\u206a\u200e\u200b\u200b\u202c\u202b\u200c\u202a\u200e\u200b\u202b\u206a\u200f\u202b\u206a\u206f\u200f\u206e\u200e\u200c\u200b\u206c\u200e\u202a\u202c\u200c\u202e;

	internal float \u200b\u200c\u200c\u206d\u202c\u202d\u206a\u202b\u206e\u202e\u206b\u200f\u206d\u206a\u200f\u206c\u202e\u202d\u200b\u206d\u206b\u206f\u200e\u206f\u202b\u206c\u200c\u202a\u206b\u200b\u202a\u206d\u200c\u200c\u202b\u200b\u200b\u200d\u206c\u206d\u202e;

	internal float \u202e\u202b\u202c\u206a\u202e\u200d\u202c\u200b\u200b\u200e\u206e\u200c\u202c\u202c\u200d\u206d\u202e\u206a\u206c\u202b\u206c\u202e\u202c\u200f\u206b\u200c\u206a\u206e\u206c\u206d\u206c\u202b\u200e\u202e\u202b\u200f\u206c\u206a\u202c\u202b\u202e;

	internal float \u202a\u206f\u200d\u200d\u200e\u200e\u202e\u202c\u202c\u202a\u202a\u206c\u200d\u202b\u202c\u202c\u206a\u202c\u200b\u206e\u202a\u200d\u200d\u206a\u206e\u200f\u202c\u200f\u200f\u206e\u200e\u202a\u202d\u206d\u206f\u206a\u202b\u202a\u202e\u202e;

	internal int \u202c\u200b\u202a\u200d\u200d\u200c\u202c\u200c\u200f\u202d\u202a\u206d\u200b\u200d\u206f\u200f\u202a\u200e\u202d\u200c\u202a\u206d\u202e\u200b\u206a\u200b\u206a\u202c\u200f\u200b\u206d\u202a\u202b\u202d\u206f\u206a\u206d\u202c\u206c\u206a\u202e;

	internal int \u202e\u202b\u200f\u206d\u200f\u206f\u202d\u202b\u206d\u206f\u200d\u202b\u206e\u202d\u206b\u206b\u206e\u206a\u200b\u200e\u200c\u202a\u202b\u206e\u206c\u206b\u206d\u202c\u200e\u200d\u200d\u200e\u206d\u200f\u202c\u202b\u206f\u206c\u200d\u200f\u202e;

	public T this[Vector3 worldPos]
	{
		get
		{
			return this[WorldToGridCoords(worldPos)];
		}
		set
		{
			this[WorldToGridCoords(worldPos)] = value;
		}
	}

	public T this[Vector2Int cellCoords]
	{
		get
		{
			return this[cellCoords.x, cellCoords.y];
		}
		set
		{
			this[cellCoords.x, cellCoords.y] = value;
		}
	}

	public T this[int x, int y]
	{
		get
		{
			return \u202e\u202e\u206a\u206a\u200c\u200c\u202a\u206f\u202e\u206c\u200c\u206b\u200f\u200c\u206a\u200e\u200b\u200b\u202c\u202b\u200c\u202a\u200e\u200b\u202b\u206a\u200f\u202b\u206a\u206f\u200f\u206e\u200e\u200c\u200b\u206c\u200e\u202a\u202c\u200c\u202e[y * \u202c\u200b\u202a\u200d\u200d\u200c\u202c\u200c\u200f\u202d\u202a\u206d\u200b\u200d\u206f\u200f\u202a\u200e\u202d\u200c\u202a\u206d\u202e\u200b\u206a\u200b\u206a\u202c\u200f\u200b\u206d\u202a\u202b\u202d\u206f\u206a\u206d\u202c\u206c\u206a\u202e + x];
		}
		set
		{
			\u202e\u202e\u206a\u206a\u200c\u200c\u202a\u206f\u202e\u206c\u200c\u206b\u200f\u200c\u206a\u200e\u200b\u200b\u202c\u202b\u200c\u202a\u200e\u200b\u202b\u206a\u200f\u202b\u206a\u206f\u200f\u206e\u200e\u200c\u200b\u206c\u200e\u202a\u202c\u200c\u202e[y * \u202c\u200b\u202a\u200d\u200d\u200c\u202c\u200c\u200f\u202d\u202a\u206d\u200b\u200d\u206f\u200f\u202a\u200e\u202d\u200c\u202a\u206d\u202e\u200b\u206a\u200b\u206a\u202c\u200f\u200b\u206d\u202a\u202b\u202d\u206f\u206a\u206d\u202c\u206c\u206a\u202e + x] = value;
		}
	}

	public WorldGrid(int P_0, float P_1)
	{
		while (true)
		{
			int num = -1099196376;
			while (true)
			{
				uint num2;
				switch ((num2 = (uint)(num ^ -1658150561)) % 6)
				{
				case 3u:
					break;
				default:
					return;
				case 0u:
					\u202a\u206f\u200d\u200d\u200e\u200e\u202e\u202c\u202c\u202a\u202a\u206c\u200d\u202b\u202c\u202c\u206a\u202c\u200b\u206e\u202a\u200d\u200d\u206a\u206e\u200f\u202c\u200f\u200f\u206e\u200e\u202a\u202d\u206d\u206f\u206a\u202b\u202a\u202e\u202e = 1f / P_1;
					num = ((int)num2 * -1143444214) ^ 0x7AD0BE17;
					continue;
				case 5u:
					\u202e\u202b\u202c\u206a\u202e\u200d\u202c\u200b\u200b\u200e\u206e\u200c\u202c\u202c\u200d\u206d\u202e\u206a\u206c\u202b\u206c\u202e\u202c\u200f\u206b\u200c\u206a\u206e\u206c\u206d\u206c\u202b\u200e\u202e\u202b\u200f\u206c\u206a\u202c\u202b\u202e = P_1 * 0.5f;
					num = ((int)num2 * -2093679134) ^ -1900866961;
					continue;
				case 2u:
					\u202c\u200b\u202a\u200d\u200d\u200c\u202c\u200c\u200f\u202d\u202a\u206d\u200b\u200d\u206f\u200f\u202a\u200e\u202d\u200c\u202a\u206d\u202e\u200b\u206a\u200b\u206a\u202c\u200f\u200b\u206d\u202a\u202b\u202d\u206f\u206a\u206d\u202c\u206c\u206a\u202e = P_0;
					\u202e\u202b\u200f\u206d\u200f\u206f\u202d\u202b\u206d\u206f\u200d\u202b\u206e\u202d\u206b\u206b\u206e\u206a\u200b\u200e\u200c\u202a\u202b\u206e\u206c\u206b\u206d\u202c\u200e\u200d\u200d\u200e\u206d\u200f\u202c\u202b\u206f\u206c\u200d\u200f\u202e = \u202c\u200b\u202a\u200d\u200d\u200c\u202c\u200c\u200f\u202d\u202a\u206d\u200b\u200d\u206f\u200f\u202a\u200e\u202d\u200c\u202a\u206d\u202e\u200b\u206a\u200b\u206a\u202c\u200f\u200b\u206d\u202a\u202b\u202d\u206f\u206a\u206d\u202c\u206c\u206a\u202e / 2;
					\u202e\u202e\u206a\u206a\u200c\u200c\u202a\u206f\u202e\u206c\u200c\u206b\u200f\u200c\u206a\u200e\u200b\u200b\u202c\u202b\u200c\u202a\u200e\u200b\u202b\u206a\u200f\u202b\u206a\u206f\u200f\u206e\u200e\u200c\u200b\u206c\u200e\u202a\u202c\u200c\u202e = new T[\u202c\u200b\u202a\u200d\u200d\u200c\u202c\u200c\u200f\u202d\u202a\u206d\u200b\u200d\u206f\u200f\u202a\u200e\u202d\u200c\u202a\u206d\u202e\u200b\u206a\u200b\u206a\u202c\u200f\u200b\u206d\u202a\u202b\u202d\u206f\u206a\u206d\u202c\u206c\u206a\u202e * \u202c\u200b\u202a\u200d\u200d\u200c\u202c\u200c\u200f\u202d\u202a\u206d\u200b\u200d\u206f\u200f\u202a\u200e\u202d\u200c\u202a\u206d\u202e\u200b\u206a\u200b\u206a\u202c\u200f\u200b\u206d\u202a\u202b\u202d\u206f\u206a\u206d\u202c\u206c\u206a\u202e];
					num = (int)((num2 * 534632847) ^ 0x276C7F19);
					continue;
				case 1u:
					\u200b\u200c\u200c\u206d\u202c\u202d\u206a\u202b\u206e\u202e\u206b\u200f\u206d\u206a\u200f\u206c\u202e\u202d\u200b\u206d\u206b\u206f\u200e\u206f\u202b\u206c\u200c\u202a\u206b\u200b\u202a\u206d\u200c\u200c\u202b\u200b\u200b\u200d\u206c\u206d\u202e = P_1;
					num = ((int)num2 * -400657201) ^ 0x8C1F649;
					continue;
				case 4u:
					return;
				}
				break;
			}
		}
	}

	public Vector3 GridToWorldCoords(Vector2Int cellPos)
	{
		float x = (float)(cellPos.x - \u202e\u202b\u200f\u206d\u200f\u206f\u202d\u202b\u206d\u206f\u200d\u202b\u206e\u202d\u206b\u206b\u206e\u206a\u200b\u200e\u200c\u202a\u202b\u206e\u206c\u206b\u206d\u202c\u200e\u200d\u200d\u200e\u206d\u200f\u202c\u202b\u206f\u206c\u200d\u200f\u202e) * \u200b\u200c\u200c\u206d\u202c\u202d\u206a\u202b\u206e\u202e\u206b\u200f\u206d\u206a\u200f\u206c\u202e\u202d\u200b\u206d\u206b\u206f\u200e\u206f\u202b\u206c\u200c\u202a\u206b\u200b\u202a\u206d\u200c\u200c\u202b\u200b\u200b\u200d\u206c\u206d\u202e - \u202e\u202b\u202c\u206a\u202e\u200d\u202c\u200b\u200b\u200e\u206e\u200c\u202c\u202c\u200d\u206d\u202e\u206a\u206c\u202b\u206c\u202e\u202c\u200f\u206b\u200c\u206a\u206e\u206c\u206d\u206c\u202b\u200e\u202e\u202b\u200f\u206c\u206a\u202c\u202b\u202e;
		float z = (float)(cellPos.y - \u202e\u202b\u200f\u206d\u200f\u206f\u202d\u202b\u206d\u206f\u200d\u202b\u206e\u202d\u206b\u206b\u206e\u206a\u200b\u200e\u200c\u202a\u202b\u206e\u206c\u206b\u206d\u202c\u200e\u200d\u200d\u200e\u206d\u200f\u202c\u202b\u206f\u206c\u200d\u200f\u202e) * \u200b\u200c\u200c\u206d\u202c\u202d\u206a\u202b\u206e\u202e\u206b\u200f\u206d\u206a\u200f\u206c\u202e\u202d\u200b\u206d\u206b\u206f\u200e\u206f\u202b\u206c\u200c\u202a\u206b\u200b\u202a\u206d\u200c\u200c\u202b\u200b\u200b\u200d\u206c\u206d\u202e - \u202e\u202b\u202c\u206a\u202e\u200d\u202c\u200b\u200b\u200e\u206e\u200c\u202c\u202c\u200d\u206d\u202e\u206a\u206c\u202b\u206c\u202e\u202c\u200f\u206b\u200c\u206a\u206e\u206c\u206d\u206c\u202b\u200e\u202e\u202b\u200f\u206c\u206a\u202c\u202b\u202e;
		return new Vector3(x, 0f, z);
	}

	public Vector2Int WorldToGridCoords(Vector3 worldPos)
	{
		int num = Mathf.CeilToInt(worldPos.x * \u202a\u206f\u200d\u200d\u200e\u200e\u202e\u202c\u202c\u202a\u202a\u206c\u200d\u202b\u202c\u202c\u206a\u202c\u200b\u206e\u202a\u200d\u200d\u206a\u206e\u200f\u202c\u200f\u200f\u206e\u200e\u202a\u202d\u206d\u206f\u206a\u202b\u202a\u202e\u202e);
		int num2 = Mathf.CeilToInt(worldPos.z * \u202a\u206f\u200d\u200d\u200e\u200e\u202e\u202c\u202c\u202a\u202a\u206c\u200d\u202b\u202c\u202c\u206a\u202c\u200b\u206e\u202a\u200d\u200d\u206a\u206e\u200f\u202c\u200f\u200f\u206e\u200e\u202a\u202d\u206d\u206f\u206a\u202b\u202a\u202e\u202e);
		int x = MathEx.Clamp(num + \u202e\u202b\u200f\u206d\u200f\u206f\u202d\u202b\u206d\u206f\u200d\u202b\u206e\u202d\u206b\u206b\u206e\u206a\u200b\u200e\u200c\u202a\u202b\u206e\u206c\u206b\u206d\u202c\u200e\u200d\u200d\u200e\u206d\u200f\u202c\u202b\u206f\u206c\u200d\u200f\u202e, 0, \u202c\u200b\u202a\u200d\u200d\u200c\u202c\u200c\u200f\u202d\u202a\u206d\u200b\u200d\u206f\u200f\u202a\u200e\u202d\u200c\u202a\u206d\u202e\u200b\u206a\u200b\u206a\u202c\u200f\u200b\u206d\u202a\u202b\u202d\u206f\u206a\u206d\u202c\u206c\u206a\u202e - 1);
		num2 = MathEx.Clamp(num2 + \u202e\u202b\u200f\u206d\u200f\u206f\u202d\u202b\u206d\u206f\u200d\u202b\u206e\u202d\u206b\u206b\u206e\u206a\u200b\u200e\u200c\u202a\u202b\u206e\u206c\u206b\u206d\u202c\u200e\u200d\u200d\u200e\u206d\u200f\u202c\u202b\u206f\u206c\u200d\u200f\u202e, 0, \u202c\u200b\u202a\u200d\u200d\u200c\u202c\u200c\u200f\u202d\u202a\u206d\u200b\u200d\u206f\u200f\u202a\u200e\u202d\u200c\u202a\u206d\u202e\u200b\u206a\u200b\u206a\u202c\u200f\u200b\u206d\u202a\u202b\u202d\u206f\u206a\u206d\u202c\u206c\u206a\u202e - 1);
		return new Vector2Int(x, num2);
	}
}
