using System;
using System.Collections;
using System.Collections.Generic;
using System.Diagnostics;
using System.Reflection;
using System.Runtime.CompilerServices;
using Newtonsoft.Json;
using Oxide.Core;
using Oxide.Core.Extensions;
using Oxide.Core.Plugins;
using Oxide.Ext.ChaosNPC;
using UnityEngine.Networking;

public class ChaosNPCExtension : Extension
{
	[CompilerGenerated]
	private sealed class <GetAdditionalResources>d__19 : IEnumerator<object>, IDisposable, IEnumerator
	{
		private int <>1__state;

		private object <>2__current;

		private UnityWebRequest <www>5__2;

		object IEnumerator<object>.Current
		{
			[DebuggerHidden]
			get
			{
				return <>2__current;
			}
		}

		object IEnumerator.Current
		{
			[DebuggerHidden]
			get
			{
				return <>2__current;
			}
		}

		[DebuggerHidden]
		public <GetAdditionalResources>d__19(int <>1__state)
		{
			while (true)
			{
				int num = 572828566;
				while (true)
				{
					uint num2;
					switch ((num2 = (uint)(num ^ 0x264C102)) % 3)
					{
					case 0u:
						break;
					default:
						return;
					case 2u:
						goto IL_0028;
					case 1u:
						return;
					}
					break;
					IL_0028:
					this.<>1__state = <>1__state;
					num = (int)(num2 * 2147411011) ^ -1718810741;
				}
			}
		}

		[DebuggerHidden]
		void IDisposable.Dispose()
		{
		}

		[MethodImpl(MethodImplOptions.NoInlining)]
		private bool MoveNext()
		{
			int num = <>1__state;
			int num7 = default(int);
			string[] array = default(string[]);
			string text = default(string);
			while (true)
			{
				int num2 = 550816411;
				while (true)
				{
					uint num3;
					switch ((num3 = (uint)(num2 ^ 0x24419A77)) % 23)
					{
					case 12u:
						break;
					case 13u:
					{
						int num8;
						if (num7 < array.Length)
						{
							num2 = 1060204075;
							num8 = num2;
						}
						else
						{
							num2 = 420498726;
							num8 = num2;
						}
						continue;
					}
					case 0u:
						num2 = (int)(num3 * 2103210906) ^ -144951446;
						continue;
					case 14u:
						\u200b\u200f\u206d\u200b\u200b\u206f\u206e\u200c\u200b\u206c\u202a\u206a\u202a\u202c\u206a\u202b\u206b\u202e\u206b\u200d\u202c\u200b\u202e\u206b\u202d\u206e\u206c\u202b\u206b\u202c\u200b\u206e\u206b\u200f\u202c\u200f\u200b\u206d\u206a\u206a\u202e.Add(text);
						num2 = ((int)num3 * -1085275166) ^ -818893226;
						continue;
					case 7u:
					{
						int num17;
						int num18;
						if (array == null)
						{
							num17 = 2085950904;
							num18 = num17;
						}
						else
						{
							num17 = 1940687218;
							num18 = num17;
						}
						num2 = num17 ^ (int)(num3 * 1463845161);
						continue;
					}
					case 5u:
					{
						<>1__state = -1;
						int num6;
						if (<www>5__2.isNetworkError)
						{
							num2 = 1449692959;
							num6 = num2;
						}
						else
						{
							num2 = 7194707;
							num6 = num2;
						}
						continue;
					}
					case 10u:
						num7++;
						num2 = 1991176548;
						continue;
					case 4u:
					{
						int num13;
						int num14;
						if (!string.IsNullOrEmpty(text))
						{
							num13 = -1649228236;
							num14 = num13;
						}
						else
						{
							num13 = -2144719386;
							num14 = num13;
						}
						num2 = num13 ^ (int)(num3 * 98155225);
						continue;
					}
					case 8u:
						text = array[num7];
						num2 = 343430431;
						continue;
					case 2u:
					{
						int num9;
						int num10;
						if (num == 1)
						{
							num9 = -2044315293;
							num10 = num9;
						}
						else
						{
							num9 = -127123132;
							num10 = num9;
						}
						num2 = num9 ^ ((int)num3 * -939309525);
						continue;
					}
					case 18u:
						<>1__state = -1;
						num2 = 1497947654;
						continue;
					case 16u:
					{
						int num15;
						int num16;
						if (num != 0)
						{
							num15 = 1274575903;
							num16 = num15;
						}
						else
						{
							num15 = 753423514;
							num16 = num15;
						}
						num2 = num15 ^ ((int)num3 * -480425736);
						continue;
					}
					case 1u:
						<www>5__2 = UnityWebRequest.Get(global::<Module>.\u206b\u200d\u206d\u206b\u206d\u200d\u206d\u200e\u206b\u206d\u206f\u206d\u200b\u206e\u200f\u200f\u206e\u206c\u206a\u206e\u206c\u200c\u200c\u202c\u206d\u200c\u206d\u202e\u200e\u200c\u206a\u206c\u202c\u200c\u200d\u206d\u206d\u206e\u202b\u202e\u202e<string>(-1304208383));
						num2 = 558370291;
						continue;
					case 21u:
						return true;
					case 6u:
					{
						int num11;
						int num12;
						if (\u200b\u200f\u206d\u200b\u200b\u206f\u206e\u200c\u200b\u206c\u202a\u206a\u202a\u202c\u206a\u202b\u206b\u202e\u206b\u200d\u202c\u200b\u202e\u206b\u202d\u206e\u206c\u202b\u206b\u202c\u200b\u206e\u206b\u200f\u202c\u200f\u200b\u206d\u206a\u206a\u202e.Contains(text))
						{
							num11 = -1358176295;
							num12 = num11;
						}
						else
						{
							num11 = -2082148244;
							num12 = num11;
						}
						num2 = num11 ^ ((int)num3 * -1567697915);
						continue;
					}
					case 22u:
						num7 = 0;
						num2 = (int)(num3 * 320677576) ^ -186915508;
						continue;
					case 15u:
						array = JsonConvert.DeserializeObject<string[]>(<www>5__2.downloadHandler.text);
						num2 = 785569503;
						continue;
					case 19u:
						<>2__current = <www>5__2.SendWebRequest();
						<>1__state = 1;
						num2 = ((int)num3 * -1368397530) ^ -994321351;
						continue;
					case 17u:
					{
						int num4;
						int num5;
						if (!<www>5__2.isHttpError)
						{
							num4 = -1457337619;
							num5 = num4;
						}
						else
						{
							num4 = -574094353;
							num5 = num4;
						}
						num2 = num4 ^ (int)(num3 * 186266204);
						continue;
					}
					case 3u:
						<www>5__2.Dispose();
						return false;
					case 9u:
						return false;
					case 11u:
						<www>5__2.Dispose();
						num2 = (int)((num3 * 1973700995) ^ 0x50508AE1);
						continue;
					default:
						return false;
					}
					break;
				}
			}
		}

		bool IEnumerator.MoveNext()
		{
			//ILSpy generated this explicit interface implementation from .override directive in MoveNext
			return this.MoveNext();
		}

		[DebuggerHidden]
		void IEnumerator.Reset()
		{
			throw new NotSupportedException();
		}
	}

	internal static Assembly Assembly = Assembly.GetExecutingAssembly();

	internal static AssemblyName AssemblyName;

	internal static VersionNumber AssemblyVersion;

	internal static string AssemblyAuthors;

	private static List<string> \u200b\u200f\u206d\u200b\u200b\u206f\u206e\u200c\u200b\u206c\u202a\u206a\u202a\u202c\u206a\u202b\u206b\u202e\u206b\u200d\u202c\u200b\u202e\u206b\u202d\u206e\u206c\u202b\u206b\u202c\u200b\u206e\u206b\u200f\u202c\u200f\u200b\u206d\u206a\u206a\u202e;

	public override string Name
	{
		[MethodImpl(MethodImplOptions.NoInlining)]
		get
		{
			return global::<Module>.\u206b\u200d\u206d\u206b\u206d\u200d\u206d\u200e\u206b\u206d\u206f\u206d\u200b\u206e\u200f\u200f\u206e\u206c\u206a\u206e\u206c\u200c\u200c\u202c\u206d\u200c\u206d\u202e\u200e\u200c\u206a\u206c\u202c\u200c\u200d\u206d\u206d\u206e\u202b\u202e\u202e<string>(1270977451);
		}
	}

	public override string Author
	{
		[MethodImpl(MethodImplOptions.NoInlining)]
		get
		{
			return global::<Module>.\u206f\u206a\u206d\u202c\u200c\u206d\u206b\u200f\u202a\u202c\u206c\u202e\u206d\u206e\u200c\u200c\u206d\u202a\u206e\u200b\u206e\u206d\u200b\u200b\u206b\u200c\u206c\u200f\u206a\u202a\u206e\u200c\u206b\u202d\u206e\u200b\u202b\u206d\u202c\u202e<string>(-1921590513);
		}
	}

	public override VersionNumber Version => CurrentVersion;

	public static VersionNumber CurrentVersion => new VersionNumber(3, 0, 28);

	public override bool SupportsReloading => true;

	public ChaosNPCExtension(ExtensionManager manager)
		: base(manager)
	{
	}

	public override void Load()
	{
		base.Manager.RegisterPluginLoader(new ChaosNPCLoader());
	}

	public override void OnModLoad()
	{
		AppDomain.CurrentDomain.UnhandledException += [MethodImpl(MethodImplOptions.NoInlining)] (object sender, UnhandledExceptionEventArgs exception) =>
		{
			Interface.Oxide.LogException(global::<Module>.\u206b\u200d\u206d\u206b\u206d\u200d\u206d\u200e\u206b\u206d\u206f\u206d\u200b\u206e\u200f\u200f\u206e\u206c\u206a\u206e\u206c\u200c\u200c\u202c\u206d\u200c\u206d\u202e\u200e\u200c\u206a\u206c\u202c\u200c\u200d\u206d\u206d\u206e\u202b\u202e\u202e<string>(-500885130), exception.ExceptionObject as Exception);
		};
	}

	public static bool IsValid(Plugin plugin)
	{
		return \u200b\u200f\u206d\u200b\u200b\u206f\u206e\u200c\u200b\u206c\u202a\u206a\u202a\u202c\u206a\u202b\u206b\u202e\u206b\u200d\u202c\u200b\u202e\u206b\u202d\u206e\u206c\u202b\u206b\u202c\u200b\u206e\u206b\u200f\u202c\u200f\u200b\u206d\u206a\u206a\u202e.Contains(plugin.Name);
	}

	[IteratorStateMachine(typeof(<GetAdditionalResources>d__19))]
	public static IEnumerator GetAdditionalResources()
	{
		//yield-return decompiler failed: Missing enumeratorCtor.Body
		return new <GetAdditionalResources>d__19(0);
	}

	[MethodImpl(MethodImplOptions.NoInlining)]
	static ChaosNPCExtension()
	{
		while (true)
		{
			int num = -788515356;
			while (true)
			{
				uint num2;
				switch ((num2 = (uint)(num ^ -842523401)) % 5)
				{
				case 2u:
					break;
				default:
					return;
				case 3u:
					AssemblyName = Assembly.GetName();
					num = ((int)num2 * -788148387) ^ 0xB6B800E;
					continue;
				case 4u:
					AssemblyVersion = new VersionNumber(AssemblyName.Version.Major, AssemblyName.Version.Minor, AssemblyName.Version.Build);
					AssemblyAuthors = ((AssemblyCompanyAttribute)Attribute.GetCustomAttribute(Assembly, typeof(AssemblyCompanyAttribute), inherit: false)).Company;
					num = ((int)num2 * -952286728) ^ 0x7CE3C9E2;
					continue;
				case 1u:
					\u200b\u200f\u206d\u200b\u200b\u206f\u206e\u200c\u200b\u206c\u202a\u206a\u202a\u202c\u206a\u202b\u206b\u202e\u206b\u200d\u202c\u200b\u202e\u206b\u202d\u206e\u206c\u202b\u206b\u202c\u200b\u206e\u206b\u200f\u202c\u200f\u200b\u206d\u206a\u206a\u202e = new List<string>
					{
						global::<Module>.\u206f\u206a\u206d\u202c\u200c\u206d\u206b\u200f\u202a\u202c\u206c\u202e\u206d\u206e\u200c\u200c\u206d\u202a\u206e\u200b\u206e\u206d\u200b\u200b\u206b\u200c\u206c\u200f\u206a\u202a\u206e\u200c\u206b\u202d\u206e\u200b\u202b\u206d\u202c\u202e<string>(-190204392),
						global::<Module>.\u206b\u200d\u206d\u206b\u206d\u200d\u206d\u200e\u206b\u206d\u206f\u206d\u200b\u206e\u200f\u200f\u206e\u206c\u206a\u206e\u206c\u200c\u200c\u202c\u206d\u200c\u206d\u202e\u200e\u200c\u206a\u206c\u202c\u200c\u200d\u206d\u206d\u206e\u202b\u202e\u202e<string>(-1417343339),
						global::<Module>.\u206b\u200d\u206d\u206b\u206d\u200d\u206d\u200e\u206b\u206d\u206f\u206d\u200b\u206e\u200f\u200f\u206e\u206c\u206a\u206e\u206c\u200c\u200c\u202c\u206d\u200c\u206d\u202e\u200e\u200c\u206a\u206c\u202c\u200c\u200d\u206d\u206d\u206e\u202b\u202e\u202e<string>(-819938719),
						global::<Module>.\u202b\u206a\u206f\u200d\u202e\u202e\u202e\u202c\u202d\u206f\u202a\u206f\u202b\u200c\u206d\u206f\u202b\u200e\u202e\u202c\u206b\u202d\u202c\u200d\u202e\u200c\u202a\u206a\u206b\u202b\u202b\u200f\u200d\u200c\u200d\u206b\u202e\u206f\u200e\u206c\u202e<string>(-389293358),
						global::<Module>.\u202b\u206a\u206f\u200d\u202e\u202e\u202e\u202c\u202d\u206f\u202a\u206f\u202b\u200c\u206d\u206f\u202b\u200e\u202e\u202c\u206b\u202d\u202c\u200d\u202e\u200c\u202a\u206a\u206b\u202b\u202b\u200f\u200d\u200c\u200d\u206b\u202e\u206f\u200e\u206c\u202e<string>(764928654),
						global::<Module>.\u202a\u206d\u202d\u206d\u202a\u202b\u206d\u200f\u200c\u200b\u206b\u200f\u200b\u202a\u200e\u200b\u200b\u202a\u206f\u206b\u206f\u202e\u202b\u200d\u202e\u206d\u206c\u200e\u200f\u206b\u200b\u206d\u200e\u206e\u202c\u206c\u200d\u200b\u202d\u206d\u202e<string>(-981027009),
						global::<Module>.\u202a\u206d\u202d\u206d\u202a\u202b\u206d\u200f\u200c\u200b\u206b\u200f\u200b\u202a\u200e\u200b\u200b\u202a\u206f\u206b\u206f\u202e\u202b\u200d\u202e\u206d\u206c\u200e\u200f\u206b\u200b\u206d\u200e\u206e\u202c\u206c\u200d\u200b\u202d\u206d\u202e<string>(-31133917),
						global::<Module>.\u202d\u202e\u202a\u202d\u202a\u206a\u206d\u202e\u200e\u202c\u200e\u206c\u206c\u202c\u200b\u202a\u200f\u202d\u206a\u200d\u206f\u200f\u206d\u202d\u206b\u200b\u200d\u206b\u202b\u206f\u202b\u202e\u202b\u202b\u206c\u200f\u200f\u206b\u202b\u200f\u202e<string>(-241524563),
						global::<Module>.\u202b\u206a\u206f\u200d\u202e\u202e\u202e\u202c\u202d\u206f\u202a\u206f\u202b\u200c\u206d\u206f\u202b\u200e\u202e\u202c\u206b\u202d\u202c\u200d\u202e\u200c\u202a\u206a\u206b\u202b\u202b\u200f\u200d\u200c\u200d\u206b\u202e\u206f\u200e\u206c\u202e<string>(-642108)
					};
					num = -152249549;
					continue;
				case 0u:
					return;
				}
				break;
			}
		}
	}
}
