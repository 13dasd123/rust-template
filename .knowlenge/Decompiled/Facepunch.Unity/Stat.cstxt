using System.Collections.Generic;
using Facepunch.Models.Analytics;

internal class Stat : Dictionary<string, Stat.Container>
{
	public class Container : Dictionary<string, double>
	{
		internal void AddSum(string label, double value)
		{
			double value2 = 0.0;
			if (TryGetValue(label, out value2))
			{
				base[label] = value2 + value;
			}
			else
			{
				Add(label, value);
			}
		}

		internal void AddReplace(string label, double value)
		{
			if (ContainsKey(label))
			{
				base[label] = value;
			}
			else
			{
				Add(label, value);
			}
		}
	}

	public Container GetCategory(string name)
	{
		if (TryGetValue(name, out var value))
		{
			return value;
		}
		value = new Container();
		Add(name, value);
		return value;
	}
}
