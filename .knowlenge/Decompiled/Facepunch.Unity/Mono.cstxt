using System.Net;
using System.Net.Security;
using System.Security.Cryptography.X509Certificates;
using Facepunch;

internal static class Mono
{
	private class NoCheckCertificatePolicy : ICertificatePolicy
	{
		public bool CheckValidationResult(ServicePoint srvPoint, X509Certificate certificate, WebRequest request, int certificateProblem)
		{
			return true;
		}
	}

	internal static void FixHttpsValidation()
	{
		ServicePointManager.ServerCertificateValidationCallback = (object sender, X509Certificate certificate, X509Chain chain, SslPolicyErrors sslPolicyErrors) => true;
		ServicePointManager.CertificatePolicy = new NoCheckCertificatePolicy();
	}
}
