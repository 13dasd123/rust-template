using UnityEngine;

[AddComponentMenu("Mega Wire/Watch")]
public class MegaWireWatch : MonoBehaviour
{
	public bool realtime;

	public GameObject watch;

	public Matrix4x4 mat;

	private void Start()
	{
		if ((bool)watch)
		{
			mat = watch.transform.localToWorldMatrix;
		}
	}

	private void Update()
	{
		if (realtime && Application.isPlaying && (bool)watch && mat != watch.transform.localToWorldMatrix)
		{
			mat = watch.transform.localToWorldMatrix;
			MegaWirePlantPolesList component = GetComponent<MegaWirePlantPolesList>();
			if ((bool)component)
			{
				component.Rebuild();
			}
		}
	}
}
