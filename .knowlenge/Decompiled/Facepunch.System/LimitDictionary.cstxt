using System.Collections.Generic;

public class LimitDictionary<TKey, TValue> : Dictionary<TKey, TValue>
{
	public int maxCapacity = 8192;

	private Queue<TKey> entries;

	public LimitDictionary(int maxCapacity = 8192)
	{
		this.maxCapacity = maxCapacity;
		entries = new Queue<TKey>(this.maxCapacity);
	}

	public new void Add(TKey key, TValue item)
	{
		if (base.Count == maxCapacity)
		{
			TKey key2 = entries.Dequeue();
			Remove(key2);
		}
		base.Add(key, item);
		entries.Enqueue(key);
	}
}
